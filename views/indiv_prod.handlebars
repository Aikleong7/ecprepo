{{#section 'navbar'}}
{{> navbar_cust }}
{{/section}}
<style>
  .carousel-control-next-icon,
  .carousel-control-prev-icon {
    filter: invert(100%);
  }

  @import url('https://fonts.googleapis.com/css?family=Pontano+Sans');

  $white: #fff;
  $black: #333;
  $lightergray: #d5d5d5;
  $lightgray: #f0f3f1;
  $gray: #e3dddd;
  $text: #888;
  $button: #3e3e3f;
  $button-hover: #565657;

  * {
    box-sizing: border-box;

    &::before,
    &::after {
      box-sizing: border-box;
    }
  }

  body {
    font-family: 'Pontano Sans', sans-serif;
    font-size: 1.125rem;
    line-height: 1.5;
    margin: 0;
    padding: 0;
    color: $text;
    background: $white;
    text-rendering: optimizeLegibility;
  }

  ul {
    padding: 0;
    margin: 0;
    list-style: none;

    li {
      margin: 0 1.75rem 0 0;
    }
  }

  a {
    color: $text;
    text-decoration: none;
    transition: all 0.2s ease;

    &:hover {
      color: $black;
    }

    &.active {
      color: $black;
    }
  }

  h1,
  h2,
  h3,
  h4 {
    color: $black;
    font-weight: normal;
    margin: 1.75rem 0 1rem 0;
  }

  h1 {
    font-size: 2.5rem;
  }

  h2 {
    font-size: 2.125rem;
    margin: 0;
  }

  h3 {
    font-size: 2rem;
  }

  h4 {
    font-size: 1.5rem;
    margin: 1rem 0 0.5rem 0;
  }

  section {
    display: block;
  }

  img {
    max-width: 100%;
    height: auto;
    object-fit: cover;
  }

  .price {
    margin: 0;
  }


  .description {
    border-top: 0.0625rem solid $gray;
    margin: 2rem 0;
    padding: 1rem 0 0 0;
  }

  .add-to-cart {
    position: relative;
    display: inline-block;
    background: $button;
    color: $white;
    border: none;
    border-radius: 0;
    padding: 1.25rem 2.5rem;
    font-size: 1rem;
    text-transform: uppercase;
    cursor: pointer;
    transform: translateZ(0);
    transition: color 0.3s ease;
    letter-spacing: 0.0625rem;

    &:hover {
      &::before {
        transform: scaleX(1);
      }
    }

    &::before {
      position: absolute;
      content: '';
      z-index: -1;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: $button-hover;
      transform: scaleX(0);
      transform-origin: 0 50%;
      transition: transform 0.3s ease-out;
    }
  }






  a,
  a:hover {
    text-decoration: none;
    color: inherit;
  }

  .section-products {
    padding: 80px 0 54px;
  }

  .section-products .header {
    margin-bottom: 50px;
  }

  .section-products .header h3 {
    font-size: 1rem;
    color: #fe302f;
    font-weight: 500;
  }

  .section-products .header h2 {
    font-size: 2.2rem;
    font-weight: 400;
    color: #444444;
  }

  .section-products .single-product {
    margin-bottom: 26px;
  }

  .section-products .single-product .part-1 {
    position: relative;
    height: 290px;
    max-height: 290px;
    margin-bottom: 20px;
    overflow: hidden;
  }

  .section-products .single-product .part-1::before {
    position: absolute;
    content: "";
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    transition: all 0.3s;
  }

  .section-products .single-product:hover .part-1::before {
    transform: scale(1.2, 1.2) rotate(5deg);
  }

  .section-products #product-1 .part-1::before {
    background: url("") no-repeat center;
    background-size: cover;
    transition: all 0.3s;
  }

  .section-products #product-2 .part-1::before {
    background: url("") no-repeat center;
    background-size: cover;
  }

  .section-products #product-3 .part-1::before {
    background: url("") no-repeat center;
    background-size: cover;
  }

  .section-products #product-4 .part-1::before {
    background: url("") no-repeat center;
    background-size: cover;
  }

  .section-products .single-product .part-1 .discount,
  .section-products .single-product .part-1 .new {
    position: absolute;
    top: 15px;
    left: 20px;
    color: #ffffff;
    background-color: #fe302f;
    padding: 2px 8px;
    text-transform: uppercase;
    font-size: 0.85rem;
  }

  .section-products .single-product .part-1 .new {
    left: 0;
    background-color: #444444;
  }

  .section-products .single-product .part-1 ul {
    position: absolute;
    bottom: -41px;
    left: 20px;
    margin: 0;
    padding: 0;
    list-style: none;
    opacity: 0;
    transition: bottom 0.5s, opacity 0.5s;
  }

  .section-products .single-product:hover .part-1 ul {
    bottom: 30px;
    opacity: 1;
  }

  .section-products .single-product .part-1 ul li {
    display: inline-block;
    margin-right: 4px;
  }

  .section-products .single-product .part-1 ul li a {
    display: inline-block;
    width: 40px;
    height: 40px;
    line-height: 40px;
    background-color: #ffffff;
    color: #444444;
    text-align: center;
    box-shadow: 0 2px 20px rgb(50 50 50 / 10%);
    transition: color 0.2s;
  }

  .section-products .single-product .part-1 ul li a:hover {
    color: #fe302f;
  }

  .section-products .single-product .part-2 .product-title {
    font-size: 1rem;
  }

  .section-products .single-product .part-2 h4 {
    display: inline-block;
    font-size: 1rem;
  }

  .section-products .single-product .part-2 .product-old-price {
    position: relative;
    padding: 0 7px;
    margin-right: 2px;
    opacity: 0.6;
  }

  .section-products .single-product .part-2 .product-old-price::after {
    position: absolute;
    content: "";
    top: 50%;
    left: 0;
    width: 100%;
    height: 1px;
    background-color: #444444;
    transform: translateY(-50%);
  }
</style>
<br><br><br><br><br><br>
<main>
  <div class="container" style="border-style:none;">
    <div class="row">
      <div class="col-6">
        <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <div class="text-center">
                <img src="{{product.product_img}}" class="img-thumbnail" alt="..." style="height:500px; width:400px">
              </div>
            </div>
          </div>
        </div>


      </div>
      <div class="col-6">
        <h1>{{product.product_name}}</h1>
        <h2>${{product.selling_price}} </h2>
        <div class="description">
          <p>{{product.Description}}</p>
        </div>

        <br>

        {{!-- <div class="row justify-content-between">
          <div class="col-4" style="border:solid 1px; text-align: center; height:60px; width:50%">Size
            (XS) {{x.Size_XS}}</div>
          <div class="col-4" style="border:solid 1px; text-align: center; height:60px; width:50%">Size
            (S) {{x.Size_S}}</div>

          <!-- Force next columns to break to new line -->

          <br>
          <div class="col-4" style="border:solid 1px; text-align: center; height:60px; width:50%">Size
            (M) {{x.Size_M}}</div>
          <div class="col-4" style="border:solid 1px; text-align: center; height:60px; width:50%">Size
            (L) {{x.Size_L}}</div>


          <br>
          <div class="col-4" style="border:solid 1px; text-align: center; height:60px; width:50%">Size
            (XL) {{x.Size_XL}}</div>
          <div class="col-4" style="border:solid 1px; text-align: center; height:60px; width:50%">Size
            (XXL) {{x.Size_XXL}}</div>


          <br>
          <div class="col-4" style="border:solid 1px; text-align: center; height:60px; width:50%">Size
            (3XL) {{x.Size_3XL}}</div>
          <div class="col-4" style="border:solid 1px; text-align: center; height:60px; width:50%">Size
            (4XL) {{x.Size_4XL}}</div>

        </div> --}}
        <br>
        stocks: {{product.total_stock}}
        <form action="/cart/addCart/{{product.product_id}}" method="post">

          <div class="row">
            <div class="col-12">
              <div class="d-flex justify-content-between">
                <div>
                  <p class="text-dark">quantity</p>
                </div>
                <div class="input-group w-auto justify-content-end align-items-center">
                  <input type="button" value="-" class="button-minus border" id="iconz"
                    style="font-weight:bold;font-size:20px;width:30px;" data-field="quantity">
                  <input type="number" step="1" max="100" value="1" name="quantity"
                    class="quantity-field border-0 text-center w-25" style="margin-left:10px;">
                  <input type="button" value="+" class="button-plus border " style="font-weight:bold;" id="iconz"
                    data-field="quantity">
                </div>
              </div>
            </div>

          </div>
          <br>
          <button type="submit" class="add-to-cart">Add To Cart</button>
  
        </form>
      <br><br>

      </div>
      
      <div class="col-12">
        <div class="container">
          <h1>Reviews:</h1>
          {{#if reviews_all}}
          {{#each reviews_all}}
          <div class="card">
            <div class="card-body" style="font-size:20px">
              User: {{username}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{stars}} <i class="bi bi-star-fill"></i>
              <hr>
              Review: {{review}}
              <br><br><br><br>
            </div>
          </div>
          {{/each}}
          {{else}}
          <h3>No Reviews Yet</h3>
          {{/if}}
        </div>
      </div>
      <br><br><br><br><br><br><br><br><br><br><br><br><br>
      {{#if mainprod}}
      {{#each mainprod}}
      <a href="/ViewMore/{{mainProdId}}" style="float:right" id="viewmore">View More Add Ons</a>
      {{/each}}
      {{/if}}
      {{#if addon}}
      <h4>Add On Deals:</h4>
      <section class="section-products">
        <div class="container">
          <div class="row">
            {{#each addon}}
            <div class="col-md-6 col-lg-4 col-xl-3">
              <div id="product-2" class="single-product">
                <div class="part-1">
                  <span class="discount">{{subProdOff}}% off</span><br>
                  <a href="/ProductChosen/{{subProdId}}"><img src="{{imageValue}}" class="" alt="..."
                      style="width:100%;height:100%;"></a>
                </div>
                <div class="part-2">
                  <a href="/ProductChosen/{{subProdId}}">
                    <h3 class="product-title">{{subProdName}}</h3>
                    <h4 class="product-old-price">${{subProdPrice}}</h4>
                    <h4 class="product-price">${{newSubProdPrice}}</h4>
                    <br>
                  </a>
                </div>
              </div>
            </div>
            {{/each}}
          </div>
        </div>
      </section>
      {{/if}}

      {{#if bp}}
      <section class="section-products">
        <div class="container">
          <div class="row justify-content-center text-center">
            <div class="col-md-8 col-lg-6">
              <div class="header">


              </div>
            </div>
          </div>
          <!--shop vouchers-->
          {{#if merchantV}}
          <div class="row">
            <div class="column-xs-12">
              <h3>Shop Vouchers</h3>
            </div>
            {{#each merchantV}}
            <div class="col-md-6 col-lg-5 col-xl-3 "
              style="margin-right:20px;background-color:rgb(255, 255, 255);padding:30px;border-style: outset;border-radius:30px;">
              {{#ifType discount_type}}
              <h5> $ {{discount_off}} off</h5>
              {{else}}
              <h5> {{discount_off}} % off</h5>
              {{/ifType}}


              <p>{{usage_limit}} left</p>
              <p>Min Spend: ${{pricing min_spend}}</p>
              <p style="padding:0;">{{formatDate start_date 'DD MMM YYYY'}} to {{formatDate end_date 'DD MMM YYYY'}}</p>
            </div>
            {{/each}}
          </div>
        </div>
        {{/if}}
        {{#if bp}}
        <section class="section-products">
          <div class="container">
            <div class="row justify-content-center text-center">
              <div class="col-md-8 col-lg-6">
                <div class="header">


                </div>
              </div>
            </div>

            <!--bundle deal items -->
            <div class="row">
              <div class="column-xs-12">
                <h3>Bundle Deal</h3>
              </div>
              {{#each bp}}
              <!-- Single Product -->

              <div class="col-md-6 col-lg-4 col-xl-3">
                <div id="product-2" class="single-product">

                  <div class="part-1">
                    {{#if discountPromo}}
                    <span class="discount">{{discountPromo.percentage_off}}% off</span>
                    {{/if}}
                    <a href="/ProductChosen/{{key.product_id}}"><img src="{{value}}" class="" alt="..."
                        style="width:100%;height:100%;"></a>
                    <ul>
                      <li><a href="#"><i class="fas fa-shopping-cart"></i></a></li>
                      <li><a href="/user/favourite/create/{{key.product_id}}"><i class="fas fa-heart"></i></a></li>
                      <li><a href="#"><i class="fas fa-plus"></i></a></li>
                      <li><a href="#"><i class="fas fa-expand"></i></a></li>
                    </ul>
                  </div>
                  <div class="part-2">
                    <a href="/ProductChosen/{{key.product_id}}">
                      <h3 class="product-title">{{key.product_name}}</h3>
                      {{#if discountPromo}}
                      <h4 class="product-old-price">${{pricing key.selling_price}}</h4>
                      <h4 class="product-price">${{calDiscountPrice key.selling_price discountPromo.percentage_off}}
                      </h4>
                      {{else}}
                      <h4 class="product-price">${{pricing key.selling_price}}</h4>
                      {{/if}}
                    </a>
                  </div>
                </div>
              </div>
              {{/each}}
            </div>
          </div>
    </div>
    </section>
    {{/if}}
    {{/if}}
  </div>
</main>